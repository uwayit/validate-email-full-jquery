# validate-email-full-jquery

Цей набір функцій дозволяє значно зменшити кількість невірно введених емаіл, особливо на проектах де підвищена кількість слабо підкованих в цих ваших інтернетах юзерів.  

В своїх проектах націлених на дуже широку аудиторію, в яких я змушений вимагати email, часто стикався з тим, що десь до 20% юзерів вводять його з помилками, а отже я відправляю листа в нікуди і сподіваюсь не треба пояснювати чому це погано в багатьох сенсах.  

Тож постала задача зробити найкращу в світі валідацію email на стороні клієнта, без залучення стороніх ресурсів. Кілька років я ретельно вносив у цей набір функцій всі помилки яких припускалися тисячи юзерів, щоб недопустити  повторення цих помилок.  

Завдяки досвіду отриманому за кілька років в реальних проектах, деякі типові найрозповсюджені мікро помилки виправляються мовчки і автоматично не відволікаючи юзера, після чого функція віддає виправлений варіант і приймає його як валідний.  
gmeil.com  
qmail.com  
gmail.con  
mail.ya  
ykr.met  
і тисячі інших комбінацій виправляються на коректні.  

Наприклад  
" mamaemail@gmeil.co"  
Автоматично мовчки виправиться на  
"mamaemail@gmail.com"  

Водночас, навіть в проектах, де email не є унікальним ідентифікатором, здається важливим недопускати множинні реєстрації з одного і того ж email.  
За для цього, ми видаляємо з email всі уловки що можуть дозволити юзерам використовувати його багато разів.  
Тобто  
My.Email+work@googlemail.com  
Ми очищуємо до його кореневого стану  
myemail@gmail.com  


# Instructions for installation and use
Чіпляємо цей js на сторінку між jquery та вашою бібліотекою що валідує форму та виводить повідомлення про помилки.  
Цільове поле має містити класс .email  
У випадку виявленя критичної помилки, полю автоматично додається класс .error та блокується (disabled) кнопка з классом .testEmailButton  


**Example of use**
```js
// Base
let emailObj = $('.email');
let email = testEmail(emailObj);

// Якщо Ваші листи не можливо доставити на якісь домени, або ви НЕ хочете доставляти на них
// можна додатково недопускати вказання юзерами цих email
let stoplist = isEmailNotOn(email);
if (stoplist != false) {
    $(emailObj).addClass('error');
    // Повідомляємо клиента, що це мило нам не підходить
    // Наприклад так
    $('.ernena').text("Тільки не на "+stoplist);
}

```

**P.S.:** Набір функцій відтестований і коректно виконує свою роботу недопускаючи жодних прикрих помилок! Тож його вже можна використовувати як є - без хвилювань. Однак, викладаючи зараз код, що писався мною 4 роки тому, на початку мого js шляху, я бачу його неоптимальність і вірогідно, через сором перед спільнотою, найближчим часом перепишу його повністю і тоді зарелізю, але поки викладаю як є, бо воно давно готове потужно приносити користь.  